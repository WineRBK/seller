import config from"../../config.js";export let UserObject={unique_id:null,document_country:null,full_name:null,last_name:null,middle_name:null,first_name:null,date_of_birth:null,id_type:null,license_number:null,certificate_validity_period:null,id_photo_front:null,id_photo_reverse:null};let CompanyObject={unique_id:null,company_type:null,company_name:null,registation_number:null,registation_contry_region:null,city_address:null,region_operates:null,city_address_operates:null,postal_code_operates:null,company_contact_number:null,company_contact_email:null,full_name:null,first_name:null,middle_name:null,last_name:null,document_region:null,date_of_birth:null,legal_person_contact_number:null,legal_email_address:null,legal_person_cetrificate_type:null,license_number:null,validity_period_of_legal_person_cert:null,id_photo_front:null,id_photo_reverse:null,sole_beneficiary:null,beneficiary_percent:null};function getCookie(e){let n=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return n?decodeURIComponent(n[1]):void 0}export async function submitPersonal(){var e=getCookie("unique_id");void 0===e&&(e=Date.now(),document.cookie="unique_id="+e+";"),UserObject.unique_id=e,console.log(UserObject);var n=UserObject,o=JSON.stringify(n);console.log(o);try{const e=await fetch("https://api.imetastore.com/send_personal_info",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:o,timeout:3e4});if(!e.ok)throw new Error("Ошибка HTTP: "+e.status);const n=await e.json();console.log(n)}catch(e){console.error("Ошибка при отправке запроса:",e)}};function submitCompany(){var e=getCookie("unique_id");void 0===e&&(e=Date.now(),document.cookie="unique_id="+e+";"),CompanyObject.unique_id=e;var n=CompanyObject,o=JSON.stringify(n);console.log(o);var t=new XMLHttpRequest;t.open("POST","https://api.imetastore.com/login_seller",!0),t.timeout=3e4,t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("Accept","application/json"),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var e=JSON.parse(t.responseText);"success"===e.status?window.location.href="https://seller.imetastore.io/product/my":e.status}}}function errorActive(e){console.log(e),document.body.insertAdjacentHTML("beforeend",`\n      <div id="message_1" class="el-message el-message--error el-message-fade-enter-from" role="alert" style="top: 16px; z-index: 2002;">\x3c!--v-if--\x3e<i class="el-icon el-message__icon el-message-icon--error"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024"><path fill="currentColor" d="M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"></path></svg></i><p class="el-message__content">${e}</p>\x3c!--v-if--\x3e</div>\n      `),sleep(1).then(()=>{document.querySelector("#message_1").classList.remove("el-message-fade-enter-from")}),sleep(3e3).then(()=>{document.querySelector("#message_1").classList.add("el-message-fade-enter-from")}),sleep(3500).then(()=>{document.querySelector("#message_1").remove()})}document.addEventListener("DOMContentLoaded",e=>{const n=document.querySelector(".username");if(console.log(getCookie("username")),void 0===getCookie("username")){errorActive("Network Error");const e=new URLSearchParams;e.append("redirect",window.location.pathname);const n=e.get("redirect");console.log(n),sleep(config.redirectFirst).then(()=>{window.location.href=`/login?redirect=${n.toString()}`})}n.textContent=getCookie("username")});