const email=document.querySelector(".input-wrapper.email"),emailInput=email.firstElementChild.lastChild,emailForgot=document.querySelector(".input-wrapper.email-forgot"),emailInputForgot=emailForgot.firstElementChild.lastChild,inputAll=document.querySelectorAll(".inner-input"),password=document.querySelector(".input-wrapper.password"),passwordInput=document.querySelector(".input-wrapper.password").firstElementChild.firstElementChild,eyeBoxes=document.querySelectorAll(".eye-box"),checkbox=document.querySelectorAll(".checkbox-wrapper.checkbox"),forgotPassword=document.querySelector(".forgot-password"),dialogWrapper=document.querySelector(".dialog-wrapper"),close=document.querySelector(".dialog-top").firstElementChild,sendCode=document.querySelectorAll(".send-code"),changeButtons=document.querySelectorAll(".change-btn"),loginSelect=document.querySelectorAll(".login-select"),web3button=document.querySelector(".web3-btn"),checkboxRegister=document.querySelector(".checkbox-register"),registerButton=document.querySelector(".register-button"),resetPassword=document.querySelector('[aria-label="Reset Password"]'),googleBtn=document.querySelector("#Google"),orangeBtn=document.querySelectorAll(".orange-btn"),goButton=document.querySelector("#go"),EMAIL_REGEXP=/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu;function isEmailValid(e){return EMAIL_REGEXP.test(e)}const PASSWORD_REGEXP=/(?=.*[0-9])(?=.*[!@#$%^&*])(?=.*[A-Za-z])/;function isPasswordValid(e){return PASSWORD_REGEXP.test(e)}function sleep(e){return new Promise(t=>setTimeout(t,e))}function getCookie(e){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function login_mobile(){if(void 0==(e=getCookie("unique_id"))){var e=Date.now();document.cookie=`unique_id=${e};`}var t=$('input[id="emailMobile"]').val();document.cookie=`email=${t};`;var l=JSON.stringify({unique_id:`${e}`,login:$('input[id="emailMobile"]').val(),password:$('input[id="passwordMobile"]').val()});console.log(l),$.ajax({url:"https://api.imetastore.com/login_seller",type:"POST",timeout:3e4,data:l,dataType:"json",contentType:"application/json",accept:"application/json",success:function(e){if("success"===e.status){document.cookie=`username=${e.nickname}`,console.log(e.nickname);const t=new URLSearchParams(window.location.search);"/kyc-authentication"==t.get("redirect")?window.location.href=t.get("redirect"):window.location.href=" https://seller.imetastore.io/kyc-authentication"}else if("failed_account"===e.status)console.log(e),goButton.firstElementChild.style.display="none",errorActive("Account or password error"),goButton.classList.remove("loading");else if("failed_password"===e.status)console.log(e),goButton.firstElementChild.style.display="none",email.classList.add("error"),email.lastElementChild.classList.add("error-enter-active"),sleep(300).then(()=>{email.lastElementChild.classList.remove("error-leave-active")}),email.lastElementChild.innerText="The account password does not match",email.lastElementChild.style.display=null,errorActive("Account password does not match"),goButton.classList.remove("loading");else if("timeout"===e.status)console.log(e);else if("gauth_need"===e.status){document.querySelector(".login-wrapper").style.display="none",document.querySelector(".login-container").style.display=null,document.querySelector(".ver-code").style.display=null,console.log(123),document.querySelectorAll(".verify-input-title").forEach(e=>{void 0!=$('input[id="emailMobile"]').val()?e.textContent=`Bound email: ${$('input[id="emailMobile"]').val()}`:e.textContent="Bound email: EMAIL@gmail.com"})}}})}function errorActive(e){console.log(e),document.body.insertAdjacentHTML("beforeend",`\n      <div id="message_1" class="el-message el-message--error el-message-fade-enter-from" role="alert" style="top: 16px; z-index: 20002;">\x3c!--v-if--\x3e<i class="el-icon el-message__icon el-message-icon--error"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024"><path fill="currentColor" d="M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"></path></svg></i><p class="el-message__content">${e}</p>\x3c!--v-if--\x3e</div>\n      `),sleep(1).then(()=>{document.querySelector("#message_1").classList.remove("el-message-fade-enter-from")}),sleep(3e3).then(()=>{document.querySelector("#message_1").classList.add("el-message-fade-enter-from")}),sleep(3500).then(()=>{document.querySelector("#message_1").remove()})}googleBtn.addEventListener("click",e=>{window.location="https://accounts.google.com/v3/signin/identifier?opparams=%253F&dsh=S-66951533%3A1700054500609351&access_type=offline&client_id=767816930491-1ukfnr8abdej7thutqd1ubdeugs3fd4m.apps.googleusercontent.com&include_granted_scopes=true&o2v=2&redirect_uri=https%3A%2F%2Fwww.igv.com%2Flogin&response_type=code&scope=openid+profile+email&service=lso&state=Google%3Aen&theme=glif&flowName=GeneralOAuthFlow&continue=https%3A%2F%2Faccounts.google.com%2Fsignin%2Foauth%2Fconsent%3Fauthuser%3Dunknown%26part%3DAJi8hAM3z3MhT6Fv4-Xiot0gxOZI3fiUQw10I4jmn9_UzdHLDIc4gj8upRxVDgYFYeekS30pP7ovz3RlRMlDI3hYgsVreEuEYbSK3lqNup_oHADqWNJ6HSWzZgibiOLTAFBiqpQzYqcCWOWb-yiEAZ5XRPhTetN08dYM9lTlyCqloe4uGtb_YGVp8p_JrfrMmv4As2zNEZPOyZi5Qb03NF8r1VAqydEQf4LLEahtuD5rbD8dpd4R_SgzRdg2vlVLIs224Zy3uOe3EvNaPkM0n9Zvs3vlLciuKU3vHdRMcHm5f-zsOruK4uPohxmIK7eH_LpQxsay159yl9fo0UQSsiBoxwYScEso6hmd_jB2RVSRrI6jaCNGLO6IQx45rkIcfWIvPee5w4-slEGB41YBtbLCsTd4T8pkqKcgz3Ym-s5Py-33BFoKRIO97eP82iF66DBXLHaC1VcawOPkRnmlmeiN_t1X96jD7A%26as%3DS-66951533%253A1700054500609351%26client_id%3D767816930491-1ukfnr8abdej7thutqd1ubdeugs3fd4m.apps.googleusercontent.com%26theme%3Dglif%23&app_domain=https%3A%2F%2Fwww.igv.com&rart=ANgoxcfjrOgHdHwdilZO-IeIufdjP_R9UBVDEX2xuq9AwltHHRQ_pC2wYyXipTTtn7o4CtrSIH1Kbhwt9_cglN0CYM3JP4nOliLS6sLBDXzwSMM7QMy4QmU"}),inputAll.forEach(e=>{e.addEventListener("input",t=>{0!=e.value.length?e.previousElementSibling.style.display="none":0==e.value.length&&(e.previousElementSibling.style.display=null)})}),inputAll.forEach(e=>{e.addEventListener("focus",t=>{e.parentElement.parentElement.classList.add("input-active"),e.parentElement.parentElement.classList.remove("error"),e.parentElement.parentElement.lastElementChild.style.display="none",e.parentElement.parentElement.lastElementChild.classList.remove("error-enter-active"),e.parentElement.parentElement.lastElementChild.classList.add("error-leave-active")})}),inputAll.forEach(e=>{e.addEventListener("blur",t=>{switch(e.parentElement.parentElement.classList.remove("input-active"),e.parentElement.parentElement.getAttribute("data-empty")){case"email":if(0==e.value.length){e.parentElement.parentElement.classList.add("error"),e.parentElement.parentElement.lastElementChild.classList.add("error-enter-active"),sleep(1).then(()=>{e.parentElement.parentElement.lastElementChild.classList.remove("error-leave-active")}),e.parentElement.parentElement.lastElementChild.innerText="Cannot be empty",e.parentElement.parentElement.lastElementChild.style.display=null;break}isEmailValid(e.value)||(e.parentElement.parentElement.classList.add("error"),e.parentElement.parentElement.lastElementChild.classList.add("error-enter-active"),sleep(1).then(()=>{e.parentElement.parentElement.lastElementChild.classList.remove("error-leave-active")}),e.parentElement.parentElement.lastElementChild.innerText="Incorrect email format",e.parentElement.parentElement.lastElementChild.style.display=null);break;case"password":if(0==e.value.length){e.parentElement.parentElement.classList.add("error"),e.parentElement.parentElement.lastElementChild.classList.add("error-enter-active"),sleep(1).then(()=>{e.parentElement.parentElement.lastElementChild.classList.remove("error-leave-active")}),e.parentElement.parentElement.lastElementChild.innerText="Cannot be empty",e.parentElement.parentElement.lastElementChild.style.display=null;break}e.value.length<8||e.value.length>16?(e.parentElement.parentElement.classList.add("error"),e.parentElement.parentElement.lastElementChild.classList.add("error-enter-active"),sleep(1).then(()=>{e.parentElement.parentElement.lastElementChild.classList.remove("error-leave-active")}),e.parentElement.parentElement.lastElementChild.innerText="Please enter 8 - 16 characters",e.parentElement.parentElement.lastElementChild.style.display=null):isPasswordValid(e.value)||(e.parentElement.parentElement.classList.add("error"),e.parentElement.parentElement.lastElementChild.classList.add("error-enter-active"),sleep(1).then(()=>{e.parentElement.parentElement.lastElementChild.classList.remove("error-leave-active")}),e.parentElement.parentElement.lastElementChild.innerText="Incorrect password format (any two of numbers, letters, symbols)",e.parentElement.parentElement.lastElementChild.style.display=null);break;case"confirmPassword":if(0==e.value.length){e.parentElement.parentElement.classList.add("error"),e.parentElement.parentElement.lastElementChild.classList.add("error-enter-active"),sleep(1).then(()=>{e.parentElement.parentElement.lastElementChild.classList.remove("error-leave-active")}),e.parentElement.parentElement.lastElementChild.innerText="Cannot be empty",e.parentElement.parentElement.lastElementChild.style.display=null;break}e.parentElement.parentElement.previousElementSibling.firstElementChild.lastElementChild.value!=e.value&&(e.parentElement.parentElement.classList.add("error"),e.parentElement.parentElement.lastElementChild.classList.add("error-enter-active"),sleep(1).then(()=>{e.parentElement.parentElement.lastElementChild.classList.remove("error-leave-active")}),e.parentElement.parentElement.lastElementChild.innerText="Inconsistent passwords",e.parentElement.parentElement.lastElementChild.style.display=null);break;case"code":if(0==e.value.length){e.parentElement.parentElement.classList.add("error"),e.parentElement.parentElement.lastElementChild.classList.add("error-enter-active"),sleep(1).then(()=>{e.parentElement.parentElement.lastElementChild.classList.remove("error-leave-active")}),e.parentElement.parentElement.lastElementChild.innerText="Cannot be empty",e.parentElement.parentElement.lastElementChild.style.display=null;break}}})}),emailInputForgot.addEventListener("focus",e=>{emailForgot.classList.contains("error")&&(emailForgot.classList.remove("error"),emailForgot.lastElementChild.style.display="none")}),eyeBoxes.forEach(e=>{const t=e.parentElement.firstElementChild.lastElementChild;e.addEventListener("click",l=>{"password"==t.type?(t.type="text",e.firstElementChild.style.display=null,e.lastElementChild.style.display="none"):"text"==t.type&&(t.type="password",e.firstElementChild.style.display="none",e.lastElementChild.style.display=null)})}),checkbox.forEach(e=>{e.addEventListener("click",t=>{e.classList.toggle("active"),e.classList.contains("active")?e.firstElementChild.style.display=null:e.firstElementChild.style.display="none"})}),null!==checkboxRegister&&checkboxRegister.addEventListener("click",e=>{e.target;const t=registerButton;console.log(t),t.classList.contains("disabled")?(t.classList.remove("disabled"),t.style.background=null,t.style.color=null,t.style.cursor="pointer"):(t.classList.add("disabled"),t.style.background="#E6E6E6",t.style.color="cccccc",t.style.cursor="not-allowed")}),forgotPassword.addEventListener("click",e=>{document.querySelector(".dialog-wrapper").classList.remove("dialog-fade-leave-active"),dialogWrapper.style.display=null,document.querySelector(".dialog-wrapper").classList.add("dialog-fade-enter-active")}),orangeBtn.forEach(e=>{e.addEventListener("click",t=>{e.classList.add("loading"),e.firstElementChild.style.display=null})}),sendCode.forEach(e=>{e.addEventListener("touchstart",t=>{0==e.disabled&&(e.style.backgroundColor="#eaeefd")})}),sendCode.forEach(e=>{e.addEventListener("touchend",t=>{0==e.disabled&&(e.style.backgroundColor=null)})}),sendCode.forEach(e=>{e.addEventListener("click",t=>{let l=120;e.disabled=!0,e.textContent=l+" S",e.style.backgroundColor="#eaeefd";const n=setInterval(()=>{console.log(l),console.log(e),l-=1,e.textContent=l+" S",0==l&&(clearTimeout(n),e.textContent="Send Code",e.disabled=!1)},1e3)})}),close.addEventListener("click",e=>{document.querySelector(".dialog-wrapper").classList.remove("dialog-fade-enter-active"),document.querySelector(".dialog-wrapper").classList.add("dialog-fade-leave-active"),sleep(200).then(()=>{close.parentElement.parentElement.parentElement.style.display="none"})}),changeButtons.forEach(e=>{e.addEventListener("click",t=>{"Register"==e.innerText?(loginSelect[0].style.display="none",loginSelect[1].style.display=null):(loginSelect[1].style.display="none",loginSelect[0].style.display=null)})}),goButton.addEventListener("click",e=>{if("login_desktop"==goButton.getAttribute("type")){const t=document.querySelector("#emailDesktop");0!=t.value.length?(e.target.classList.add("loading"),e.target.firstElementChild.style.display=null,login_desktop()):(t.parentElement.parentElement.classList.add("error"),t.parentElement.parentElement.lastElementChild.classList.add("error-leave-active"),t.parentElement.parentElement.lastElementChild.classList.add("error-enter-active"),sleep(1).then(()=>{t.parentElement.parentElement.lastElementChild.classList.remove("error-leave-active")}),t.parentElement.parentElement.lastElementChild.innerText="Cannot be empty",t.parentElement.parentElement.lastElementChild.style.display=null)}else if("login_mobile"==goButton.getAttribute("type")){const t=document.querySelector("#emailMobile");0!=t.value.length?(e.target.classList.add("loading"),e.target.firstElementChild.style.display=null,login_mobile()):(t.parentElement.parentElement.classList.add("error"),t.parentElement.parentElement.lastElementChild.classList.add("error-leave-active"),t.parentElement.parentElement.lastElementChild.classList.add("error-enter-active"),sleep(1).then(()=>{t.parentElement.parentElement.lastElementChild.classList.remove("error-leave-active")}),t.parentElement.parentElement.lastElementChild.innerText="Cannot be empty",t.parentElement.parentElement.lastElementChild.style.display=null)}}),web3button.addEventListener("click",e=>{console.log("webConnect"),window.location="https://walletconnect.com"}),resetPassword.addEventListener("click",e=>{resetPassword.classList.add("loading"),e.target.firstElementChild.style.display=null});